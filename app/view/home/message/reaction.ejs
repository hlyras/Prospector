<script>
  function messageReaction(message) {
    let last_message_datetime = document.getElementById(`last-message-datetime-${message.jid}`);
    last_message_datetime.innerHTML = "";
    last_message_datetime.innerHTML = lib.splitTextBy(lib.timestampToFulldate(message.datetime), " ")[1];

    let last_message = document.getElementById(`last-message-${message.jid}`);
    last_message.innerHTML = "";

    last_message.innerHTML = message.content;

    let message_div = document.getElementById(`message-${message.target_id}-content`);
    if (!message_div) { return; }

    if (message.content) {
      message_div.append(lib.element.create("div", {
        id: `message-${message.wa_id}-reaction`,
        class: "badge em08 padding-3 radius-50 border",
        style: "position: absolute;background-color: #fff;"
      }, message.content));

      if (message.origin_id) {
        document.getElementById(`message-${message.origin_id}-reaction`).remove();
      }
    } else {
      document.getElementById(`message-${message.origin_id}-reaction`).remove();
    }
  };
</script>